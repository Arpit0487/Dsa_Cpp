class Solution {
public:
    int bestClosingTime(string customers) {
        vector<int> preN;
        int n = customers.size();
        vector<int> suffY(n,0);

        int a = 0;
        for(int i=0; i<n; i++){
            if(customers[i]=='N') a++;
            preN.push_back(a);
        }

        int y = 0;
        for(int j=n-1; j>=0; j--){
            if(customers[j]=='Y') y++;
            suffY[j]=y;
        }

        int mini = suffY[0];   // closing at 0
        int idx = 0;

        for(int i=1; i<n; i++){
            if(preN[i-1] + suffY[i] < mini){
                mini = preN[i-1] + suffY[i];
                idx = i;
            }
        }

        if(preN[n-1] < mini) idx = n;  // closing at n

        return idx;
    }
};
