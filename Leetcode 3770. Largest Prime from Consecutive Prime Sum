class Solution {
public:
    bool isPrime(int n){
        if(n<=1) return false;
        if(n==2) return true;
        if(n%2==0) return false;
        for(int i=3; i*i<=n; i+=2){
            if(n%i==0) return false;
        }
        return true;
    }
    int largestPrime(int n) {
        vector<long long> primes;
        long long sum = 0;
        for(int i = 2; i<=n; i++){
            if(isPrime(i)){
                primes.push_back(i);
                sum+=i;
                if(sum>n) break;
            }
        }
        
        int sum1 = 0;
        int ans = 0;
        for(int i=0; i<primes.size(); i++){
            sum1 += primes[i];
            if(sum1 > n) break;
            if(isPrime(sum1)) ans = sum1;
        }
        return ans;
    }
};
